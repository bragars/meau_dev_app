{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport db from \"../database/firebaseDb\";\nimport { collection } from 'firebase/firestore';\nimport { getDocs, getDoc, addDoc, deleteDoc, updateDoc } from 'firebase/firestore';\nexport var addUser = function () {\n  var _ref = _asyncToGenerator(function* (name, age, email) {\n    var usersCollection = collection(db, 'users');\n    yield addDoc(usersCollection, {\n      name: name,\n      age: age,\n      email: email\n    }).then(function () {\n      console.log(\"Document successfully written!\");\n    }).catch(function (error) {\n      console.log(\"error\", error);\n    });\n  });\n  return function addUser(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var getUsers = function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    var users = [];\n    yield getDocs(collection(db, 'users')).then(function (docs) {\n      docs.forEach(function (doc) {\n        users.push(doc.data());\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    console.log(users);\n    return users;\n  });\n  return function getUsers() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var getUser = function () {\n  var _ref3 = _asyncToGenerator(function* (id) {\n    var userDoc = yield getDoc(doc(db, 'users', id));\n    if (userDoc.exists()) {\n      console.log(userDoc.data());\n      return userDoc;\n    } else {\n      console.log('No such document!');\n    }\n  });\n  return function getUser(_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var removeUser = function () {\n  var _ref4 = _asyncToGenerator(function* (id) {\n    try {\n      var userDoc = doc(db, 'users', id);\n      yield deleteDoc(userDoc);\n      console.log('User successfully deleted!');\n    } catch (error) {\n      console.error('Error removing user: ', error);\n    }\n  });\n  return function removeUser(_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var updateUser = function () {\n  var _ref5 = _asyncToGenerator(function* (id, data) {\n    try {\n      var userDoc = doc(db, 'users', id);\n      yield updateDoc(userDoc, data);\n      console.log('User successfully updated!');\n    } catch (error) {\n      console.error('Error updating user: ', error);\n    }\n  });\n  return function updateUser(_x6, _x7) {\n    return _ref5.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["db","collection","getDocs","getDoc","addDoc","deleteDoc","updateDoc","addUser","_ref","_asyncToGenerator","name","age","email","usersCollection","then","console","log","catch","error","_x","_x2","_x3","apply","arguments","getUsers","_ref2","users","docs","forEach","doc","push","data","getUser","_ref3","id","userDoc","exists","_x4","removeUser","_ref4","_x5","updateUser","_ref5","_x6","_x7"],"sources":["C:/Users/pedro/Documents/Codes/Mobile/react-native/uNbApp/meau_dev_app/meau_dev-app/dao/user.js"],"sourcesContent":["import db from '../database/firebaseDb';\r\nimport { collection } from 'firebase/firestore';\r\nimport { getDocs, getDoc, addDoc, deleteDoc, updateDoc } from 'firebase/firestore';\r\n\r\nexport const addUser = async (name, age, email) => {\r\n  const usersCollection = collection(db, 'users');\r\n\r\n  await addDoc(usersCollection, {\r\n    name: name,\r\n    age: age,\r\n    email: email,\r\n  }).then(() => {\r\n    console.log(\"Document successfully written!\");\r\n  }).catch((error) => {\r\n    console.log(\"error\", error);\r\n  });\r\n};\r\n\r\nexport const getUsers = async () => {\r\n  var users = [];\r\n\r\n  await getDocs(collection(db, 'users'))\r\n  .then((docs) => {\r\n    docs.forEach((doc) => {\r\n      users.push(doc.data());\r\n    });\r\n  })\r\n  .catch((error) => {\r\n    console.log(error);\r\n  });\r\n\r\n  console.log(users);\r\n  return users;\r\n};\r\n\r\nexport const getUser = async (id) => {\r\n  const userDoc = await getDoc(doc(db, 'users', id))\r\n\r\n  if (userDoc.exists()) {\r\n    console.log(userDoc.data());\r\n    return userDoc;\r\n\r\n  } else {\r\n    console.log('No such document!');\r\n  }\r\n};\r\n\r\nexport const removeUser = async (id) => {\r\n  try {\r\n    const userDoc = doc(db, 'users', id);\r\n\r\n    await deleteDoc(userDoc);    \r\n    console.log('User successfully deleted!');\r\n  } catch (error) {\r\n    console.error('Error removing user: ', error);\r\n  }\r\n};\r\n\r\nexport const updateUser = async (id, data) => {\r\n  try {\r\n    const userDoc = doc(db, 'users', id);\r\n\r\n    await updateDoc(userDoc, data);    \r\n    console.log('User successfully updated!');\r\n  } catch (error) {\r\n    console.error('Error updating user: ', error);\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}